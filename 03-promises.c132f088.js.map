{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAeF,SAASC,cAAc,qBACtCE,EAAcH,SAASC,cAAc,oBACrCG,EAAgBJ,SAASC,cAAc,sBAoB7C,SAASI,EAAcC,EAAUC,GAE7B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACHH,GACAF,EAAQ,CAAEH,WAAUC,UACpBG,EAAO,CAAEJ,WAAUC,S,GACxBA,E,IA3BXL,EAAaa,iBAAiB,SAK9B,WACI,IAAMC,EAAad,EAAae,MAChBC,aAAaC,QAAQ,QAASH,E,IANlDb,EAAYY,iBAAiB,SAQ7B,WACI,IAAMK,EAAYjB,EAAYc,MACfC,aAAaC,QAAQ,OAAQC,E,IAThDhB,EAAcW,iBAAiB,SAW/B,WACI,IAAMM,EAAcjB,EAAca,MACjBC,aAAaC,QAAQ,SAAUE,E,IAZpDtB,EAAKgB,iBAAiB,UA4BtB,SAAyBO,GACrBA,EAAMC,iBASN,IAPA,IAAMC,EAAaN,aAAaO,QAAQ,SAClCC,EAAYR,aAAaO,QAAQ,QACjCE,EAAcT,aAAaO,QAAQ,UACnCG,EAASC,KAAKC,MAAMH,GACpBI,EAAOF,KAAKC,MAAMJ,GACpBM,EAAQH,KAAKC,MAAMN,GAEdS,EAAW,EAAGA,GAAYL,EAAQK,GAAY,EAEhD5B,EAAc4B,EAAUD,GAClBE,MAAK,SAAAC,G,IAAG7B,EAAQ6B,EAAR7B,SAAUC,EAAK4B,EAAL5B,MAChB6B,EAAAvC,GAASwC,OAAOC,QAAQ,uBAAwCC,OAAfjC,EAAS,QAAYiC,OAANhC,EAAM,M,IAExEiC,OAAM,SAAAL,G,IAAG7B,EAAQ6B,EAAR7B,SAAUC,EAAK4B,EAAL5B,MAChB6B,EAAAvC,GAASwC,OAAOI,QAAQ,sBAAqCF,OAAfjC,EAAS,QAAYiC,OAANhC,EAAM,M,IAE/EyB,GAAUD,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form')\nconst inputDelayEl = document.querySelector(\"input[name=delay]\");\nconst inputStepEl = document.querySelector(\"input[name=step]\");\nconst inputAmountEl = document.querySelector(\"input[name=amount]\");\n\ninputDelayEl.addEventListener('input', handleDelay);\ninputStepEl.addEventListener('input', handleStep);\ninputAmountEl.addEventListener('input', handleAmount);\nform.addEventListener('submit', handleBtnCreate);\n\nfunction handleDelay() {\n    const delayValue = inputDelayEl.value;\n    const delayLs = localStorage.setItem(\"delay\", delayValue);\n}\nfunction handleStep() {\n    const stepValue = inputStepEl.value;\n    const stepLs = localStorage.setItem(\"step\", stepValue);\n}\nfunction handleAmount() {\n    const amountValue = inputAmountEl.value;\n    const amountLs = localStorage.setItem(\"amount\", amountValue);\n}\n\nfunction createPromise(position, delay) {\n    \n    return new Promise((resolve, reject) => {\n        const shouldResolve = Math.random() > 0.3;\n        \n        setTimeout(() => {\n            if (shouldResolve) {\n                resolve({ position, delay });\n            }   reject({ position, delay });\n        }, delay);\n    })\n}\n\nfunction handleBtnCreate(event) {\n    event.preventDefault();\n    \n    const delayLsGet = localStorage.getItem(\"delay\");\n    const stepLsGet = localStorage.getItem(\"step\");\n    const amountLsGet = localStorage.getItem(\"amount\");\n    const amount = JSON.parse(amountLsGet); \n    const step = JSON.parse(stepLsGet);\n    let delay = JSON.parse(delayLsGet);\n    \n    for (let position = 1; position <= amount; position += 1){\n            \n           createPromise(position, delay)\n                .then(({ position, delay }) => {\n                   Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n                })\n                .catch(({ position, delay }) => {\n                    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n                });\n        delay +=  step;\n    }\n\n}\n\n\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputDelayEl","$ce04d3a99e08e73b$var$inputStepEl","$ce04d3a99e08e73b$var$inputAmountEl","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","delayValue","value","localStorage","setItem","stepValue","amountValue","event","preventDefault","delayLsGet","getItem","stepLsGet","amountLsGet","amount","JSON","parse","step","delay1","position1","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.c132f088.js.map"}