{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAeF,SAASC,cAAc,qBACtCE,EAAcH,SAASC,cAAc,oBACrCG,EAAgBJ,SAASC,cAAc,sBAoB7C,SAASI,EAAcC,EAAUC,GAE7B,OAAOC,QAAU,IAAIC,SAAQ,CAACC,EAASC,KACnC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACHH,GACAF,EAAQ,C,SAAEJ,E,MAAUC,IACtBI,EAAO,C,SAAEL,E,MAAUC,GAAQ,GAC9BA,EAAM,G,CA3BjBL,EAAac,iBAAiB,SAK9B,WACI,MAAMC,EAAaf,EAAagB,MAChBC,aAAaC,QAAQ,QAASH,E,IANlDd,EAAYa,iBAAiB,SAQ7B,WACI,MAAMK,EAAYlB,EAAYe,MACfC,aAAaC,QAAQ,OAAQC,E,IAThDjB,EAAcY,iBAAiB,SAW/B,WACI,MAAMM,EAAclB,EAAcc,MACjBC,aAAaC,QAAQ,SAAUE,E,IAZpDvB,EAAKiB,iBAAiB,UA4BtB,SAAyBO,GACrBA,EAAMC,iBAEN,MAAMC,EAAaN,aAAaO,QAAQ,SAClCC,EAAYR,aAAaO,QAAQ,QACjCE,EAAcT,aAAaO,QAAQ,UACnCG,EAASC,KAAKC,MAAMH,GACpBI,EAAOF,KAAKC,MAAMJ,GACxB,IAAIM,EAAQH,KAAKC,MAAMN,GAEvB,IAAK,IAAIS,EAAW,EAAGA,GAAYL,EAAQK,GAAY,EAEhD7B,EAAc6B,EAAUD,GAClBE,MAAK,EAAC7B,SAAEA,EAAQC,MAAEA,MAChB6B,EAAAvC,GAASwC,OAAOC,QAAQ,uBAAqBhC,QAAiBC,MAAU,IAE1EgC,OAAM,EAACjC,SAAEA,EAAQC,MAAEA,MAChB6B,EAAAvC,GAASwC,OAAOG,QAAQ,sBAAoBlC,QAAeC,MAAU,IAEjF0B,GAAUD,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form')\nconst inputDelayEl = document.querySelector(\"input[name=delay]\");\nconst inputStepEl = document.querySelector(\"input[name=step]\");\nconst inputAmountEl = document.querySelector(\"input[name=amount]\");\n\ninputDelayEl.addEventListener('input', handleDelay);\ninputStepEl.addEventListener('input', handleStep);\ninputAmountEl.addEventListener('input', handleAmount);\nform.addEventListener('submit', handleBtnCreate);\n\nfunction handleDelay() {\n    const delayValue = inputDelayEl.value;\n    const delayLs = localStorage.setItem(\"delay\", delayValue);\n}\nfunction handleStep() {\n    const stepValue = inputStepEl.value;\n    const stepLs = localStorage.setItem(\"step\", stepValue);\n}\nfunction handleAmount() {\n    const amountValue = inputAmountEl.value;\n    const amountLs = localStorage.setItem(\"amount\", amountValue);\n}\n\nfunction createPromise(position, delay) {\n    \n    return promise = new Promise((resolve, reject) => {\n        const shouldResolve = Math.random() > 0.3;\n        \n        setTimeout(() => {\n            if (shouldResolve) {\n                resolve({ position, delay });\n            } reject({ position, delay });\n        }, delay);\n    })\n}\n\nfunction handleBtnCreate(event) {\n    event.preventDefault();\n    \n    const delayLsGet = localStorage.getItem(\"delay\");\n    const stepLsGet = localStorage.getItem(\"step\");\n    const amountLsGet = localStorage.getItem(\"amount\");\n    const amount = JSON.parse(amountLsGet); \n    const step = JSON.parse(stepLsGet);\n    let delay = JSON.parse(delayLsGet);\n    \n    for (let position = 1; position <= amount; position += 1){\n            \n           createPromise(position, delay)\n                .then(({ position, delay }) => {\n                   Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n                })\n                .catch(({ position, delay }) => {\n                    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n                });\n        delay +=  step;\n    }\n    \n}\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputDelayEl","$47d4ff9957288465$var$inputStepEl","$47d4ff9957288465$var$inputAmountEl","$47d4ff9957288465$var$createPromise","position","delay","promise","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","delayValue","value","localStorage","setItem","stepValue","amountValue","event","preventDefault","delayLsGet","getItem","stepLsGet","amountLsGet","amount","JSON","parse","step","delay1","position1","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.8ac597f7.js.map"}